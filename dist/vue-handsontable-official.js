"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function rewriteSettings(t){var e=null,r={};if(Object.prototype.toString.call(t).indexOf("Array")>-1?(e=[],r.array=!0):"object"==typeof t&&(e={},r.object=!0),r.array||r.object)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);else e=t;return e}function hotInit(t){var e=new SettingsMapper,r=[t.settings?t.settings:t._props];t.settings&&r.push(t._props),t.table=new Handsontable(t.$el,e.prepare.apply(e,r))}function hotDestroy(t){t.table.destroy()}function propFactory(){var t=new SettingsMapper,e=Handsontable.helper.clone(Handsontable.DefaultSettings.prototype),r=Handsontable.hooks.getRegistered();for(var n in e)e.hasOwnProperty(n)&&(e[n]={});for(var o=0;o<r.length;o++)e[t.addHookPrefix(r[o])]={};return e.root={type:String,default:"hot-"+(new Date).getTime()},e.settings={type:Object},e}function propWatchFactory(t,e){var r=propFactory(),n=function(n){r.hasOwnProperty(n)&&(r[n]="settings"===n?{handler:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e.call.apply(e,[this,n].concat(t))},deep:!0}:{handler:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return t.call.apply(t,[this,n].concat(e))},deep:!0})};for(var o in r)n(o);return r}function updateHotSettings(t,e,r){var n={};n[t]=rewriteSettings(e),this.table.updateSettings(n)}function updateBulkHotSettings(t,e,r){this.table.updateSettings(rewriteSettings(e))}var Handsontable=_interopDefault(require("handsontable")),SettingsMapper=function(){this.registeredHooks=Handsontable.hooks.getRegistered()};SettingsMapper.prototype.prepareProp=function(t){return this.trimHookPrefix(t)},SettingsMapper.prototype.prepare=function(t,e){var r={};for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(r[this.prepareProp(n)]=t[n]);for(var o in e)e.hasOwnProperty(o)&&void 0!==e[o]&&(r[this.prepareProp(o)]=e[o]);return r},SettingsMapper.prototype.addHookPrefix=function(t){return this.registeredHooks.indexOf(t)>-1?"on"+t.charAt(0).toUpperCase()+t.slice(1,t.length):t},SettingsMapper.prototype.trimHookPrefix=function(t){if(0===t.indexOf("on")){var e=t.charAt(2).toLowerCase()+t.slice(3,t.length);if(this.registeredHooks.indexOf(e)>-1)return e}return t};var HotTable={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.root}})},staticRenderFns:[],name:"HotTable",props:propFactory(),watch:propWatchFactory(updateHotSettings,updateBulkHotSettings),mounted:function(){return hotInit(this)},beforeDestroy:function(){return hotDestroy(this)}};module.exports=HotTable;
